# 함수형 도구 체이닝
- **체이닝**(chainning) : 여러 단계를 하나로 조합하는 것

- **항등 함수**(identify function) : 인자로 받은 값을 그대로 리턴하는 함수
- 예시
```js
function max(array, init) {
  return maxKey(array, init, function(x) {
    return x;
  });
}
```

## 체인을 명확하게 만들기 1: 단계에 이름 붙이기
- 각 단계에 이름을 붙이면 훨씬 명확해 진다.
- 각 단계에 숨어 있던 함수의 구현도 알아보기 쉽다.

## 체인을 명확하게 만들기 2: 콜백에 이름 붙이기
- 콜백을 빼내고 이름을 붙여 재사용할 수 있는 코드를 만들 수 있다.
- 일반적으로 '단계에 이름 붙이기'보다 더 명확하다.
  - 재사용성도 더좋고, 단계가 중첩되는 것도 막을 수 있다.

<br />

- **스트림 결합**(stream fusion) : `map()`과 `filter()`, `reduce()`
- 예시) map 사용
```js
// 값 하나에 map() 두 번 사용
var names = map(customers, getFullName);
var nameLengths = map(names, stringLength);

// map()을 한 번 사용해도 같다. - 두 동작을 동작 하나로 조합
var nameLengths = map(customers, function(customer) {
  return stringLength(getFullName(customer));
});
```

## 반복문을 함수형 도구로 리팩터링하기
#### 전략 1: 이해하고 다시 만들기
- 단순히 반복문을 읽고 어떤 일을 하는지 파악한 다음 구현을 잊어버리는 것이다.

#### 전략 2: 단서를 찾아 리팩터링
- 반복문을 하나씩 선택한 다음 함수형 도구 체인으로 바꾸는 것이다.
- 코드를 전부 이해하지 않더라도 작게 쪼갤 수 있다.

## 체이닝 팁 요약
#### 데이터 만들기
- 함수형 도구는 배열 전체를 다룰 때 잘 동작한다.
- 배열 일부에 대해 동작하는 반복문이 있다면 배열 일부를 새로운 배열로 나눌 수 있다.
- `map()`, `filter()`, `reduce()` 같은 함수형 도구를 사용하면 작업을 줄일 수 있다.

#### 배열 전체를 다루기
- 하위 배열을 만들어 놓으면 일부 배열이 아닌 전체를 반복 할 수 있다.
- 어떻게 하면 반복문을 대신해 전체 배열을 한 번에 처리할 수 있을지 생각해 봐라.

#### 작은 단계로 나누기
- 알고리즘이 한 번에 너무 많은 일을 한다고 생각하면 두 개 이상의 단계로 나눠라.
- 작은 단계는 더 단순하기 때문에 이해하기 쉽다.

## 체이닝 디버깅을 위한 팁
#### 구체적인 것을 유지하기
- 각 단계에서 어떤 것을 하고 있는지 알기 쉽게 이름을 잘 지어야 한다.

#### 출력해보기
- 각 단계 사이에 출력을 넣어서 예상한 대로 동작하는지 확인해 봐라

#### 타입을 따라가 보기


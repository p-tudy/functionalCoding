# 현실에서의 함수형 사고

## 계층형 설계

- 계층형 설계는 일반적으로 상위에서 하위 순서로 **비즈니스 규칙**, **도메인 규칙**, **기술 스택 계층**으로 나눈다.
  - 비즈니스 계층으로 갈 수록 의존성이 거의 없기 때문에 쉽게 바꿀 수 있다.
  - 기술 스택 계층으로 갈 수록 의존성이 많아 바꾸기 어렵지만 자주 바뀌지 않는다.

## 일급 추상

- 타임라인 다이어그램을 이용해서 액션의 흐름을 구체화 한다.
  - 액션이 시간 순서에 따라 어떻게 실행되는지 볼 수 있다.
  - 액션은 실행 시점에 의존하기 때문에 실행 순서가 중요하다.

<br />

- 타임라인을 서로 맞추지 않은 분산 시스템은 예측 불가능한 순서로 실행된다.

## 어려운 경험을 통해 분산 시스템에 대해 배운것

1. 기본적으로 타임라인은 서로 순서를 맞추지 않는다.
2. 액션이 실행되는 시간은 중요하지 않다.
3. 드물지만 타이밍이 어긋나는 경우는 실제 일어난다.
4. 타임라인 다이어그램으로 시스템의 문제를 알 수 있다.

## 타임라인 커팅

- 타임라인 **커팅**(cutting)은 **고차 동작**(high-order operation)으로 구현한다.
  - 여러 동작이 동시에 진행될 때 순서를 맞추기 위해 기다리는 것

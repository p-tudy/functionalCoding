### 살펴볼 내용
- 코드를 타임라인 다이어그램으로 그리는 방법을 배웁니다.
- 버그를 찾기 위해 타임라인 다이어그램 보는 법을 이해합니다.
- 타임라인끼리 공유하는 자원을 줄여 코드 설계를 개선하는 방법을 알아봅니다.

### 두 가지 타임라인 다이어그램 기본 규칙
1. 액션은 순서대로 실행되거나 동시에 실행됩니다.
2. 순서대로 실행되는 액션은 같은 타임라인에서 하나가 끝나면 다른 하나가 실행됩니다.
3. 동시에 실행되는 액션은 여러 타임라인에서 나란히 실행됩니다.

### 자세히 보면 놓칠 수 있는 액션 순서에 관한 두 가지 사실
1. ++와 +=는 사실 세 단계입니다.
   ```js
   total++;

   var temp = total; // 읽기(액션)
   var temp = temp + 1; // 더하기(계산)
   total = temp; // 쓰기(액션)
   ```
2. 인자는 함수를 부르기 전에 실행합니다.
   ```js
   console.log(total);

   var temp = total;
   console.log(temp);
   ```

### 좋은 타임라인의 원칙
1. 타임라인은 적을수록 이해하기 쉽습니다.
2. 타임라인은 짧은수록 이해하기 쉽습니다.
3. 공유하는 자원이 적을수록 이해하기 쉽습니다.
4. 자원을 공유한다면 서로 조율해야 합니다.
5. 시간을 일급으로 다룹니다.

### 자바스크립트의 비동기 큐
- 브라우저에서 동작하는 자바스크립트 엔진은 작업 큐라고 하는 큐를 가지고 있습니다.
- 작업 큐는 이벤트 루프에 의해 처리됩니다.
- 이벤트 루프는 큐에서 작업 하나를 꺼내 실행하고 완료되면 다음 작업을 꺼내 실행하는 것을 무한히 반복합니다.
- 이벤트 루프는 하나의 스레드에서 처리하기 때문에 두 개의 작업이 동시에 실행될 수 없습니다.

작업이란 무엇인가요?
- 작업 큐에 있는 작업은 이벤트 데이터와 이벤트를 처리할 콜백으로 구성되어 있습니다.
- 이벤트 루프는 이벤트 데이터를 인자로 콜백을 부릅니다.
- 콜백은 이벤트 루프가 실행할 함수입니다.
- 이벤트 루프는 단순히 첫 번째 인자에 이벤트 데이터를 넣어 콜백 함수를 실행합니다.

작업은 큐에 어떻게 들어가나요?
- 이벤트가 발생하면 큐에 작업이 추가됩니다.
- 이벤트는 마우스 클릭이나 키보드 입력, AJAX 이벤트 같은 것을 말합니다.
- 만약 콜백 함수가 있는 버튼에 이벤트가 발생하면 콜백 함수와 이벤트 데이터가 큐에 추가됩니다.
- 마우스 클릭처럼 어떤 이벤트도 예상할 수 없기 때문에 이벤트는 예측 불가능한 시점에 작업 큐에 들어갑니다.
- 들어간 작업은 작업 큐에서 나중에 온전히 가져옵니다.

작업이 없을 때 엔진은 무엇을 하나요?
- 처리할 작업이 없는 경우도 있습니다.
- 이벤트 루프는 대기 상태로 들어가고 전원을 아낍니다.
- 또는 가비지 컬렉션 같은 관리 작업을 하기도 합니다.

### 타임라인 단순화하기
1. 하나의 타임라인에 있는 모든 액션을 하나로 통합합니다.
2. 타임라인이 끝나는 곳에서 새로운 타임라인이 하나 생긴다면 통합합니다.

### 원칙: 비동기 호출에서 명시적인 출력을 위해 리턴값 대신 콜백을 사용할 수 있습니다
- 비동기 호출에서 결과를 받을 수 있는 방법은 콜백을 사용하는 것입니다.
- 결과가 준비되었을 때 결과를 인자에 넣어 콜백을 호출합니다.
